diff --git a/workloads/fileserver.f b/workloads/fileserver.f
index ef51b39..fd3d2dc 100644
--- a/workloads/fileserver.f
+++ b/workloads/fileserver.f
@@ -23,7 +23,7 @@
 # Use is subject to license terms.
 #
 
-set $dir=/tmp
+set $dir=/mnt/pmem/phtof/daxdir
 set $nfiles=10000
 set $meandirwidth=20
 set $filesize=cvar(type=cvar-gamma,parameters=mean:131072;gamma:1.5)
diff --git a/workloads/fileserver_numa.f b/workloads/fileserver_numa.f
new file mode 100644
index 0000000..7ff3d9b
--- /dev/null
+++ b/workloads/fileserver_numa.f
@@ -0,0 +1,77 @@
+#
+# CDDL HEADER START
+#
+# The contents of this file are subject to the terms of the
+# Common Development and Distribution License (the "License").
+# You may not use this file except in compliance with the License.
+#
+# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
+# or http://www.opensolaris.org/os/licensing.
+# See the License for the specific language governing permissions
+# and limitations under the License.
+#
+# When distributing Covered Code, include this CDDL HEADER in each
+# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
+# If applicable, add the following below this CDDL HEADER, with the
+# fields enclosed by brackets "[]" replaced with your own identifying
+# information: Portions Copyright [yyyy] [name of copyright owner]
+#
+# CDDL HEADER END
+#
+#
+# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
+# Use is subject to license terms.
+#
+
+set $dir=/mnt/pmem/phtof/daxdir
+set $nfiles=100000
+set $meandirwidth=20
+set $filesize=cvar(type=cvar-gamma,parameters=mean:131072;gamma:1.5)
+set $nthreads=25
+set $iosize=1m
+set $meanappendsize=16k
+# set $meanappendsize=1m
+set $runtime=60
+
+define fileset name=bigfileset,path=$dir,size=$filesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80,numa=0
+define fileset name=bigfileset1,path=$dir,size=$filesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80,numa=1
+
+define process name=filereader,instances=1
+{
+  thread name=filereaderthread,memsize=10m,instances=$nthreads,numa=0
+  {
+    flowop createfile name=createfile1,filesetname=bigfileset,fd=1
+    flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
+    flowop closefile name=closefile1,fd=1
+    flowop openfile name=openfile1,filesetname=bigfileset,fd=1
+    flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
+    flowop closefile name=closefile2,fd=1
+    flowop openfile name=openfile2,filesetname=bigfileset,fd=1
+    flowop readwholefile name=readfile1,fd=1,iosize=$iosize
+    flowop closefile name=closefile3,fd=1
+    flowop deletefile name=deletefile1,filesetname=bigfileset
+    flowop statfile name=statfile1,filesetname=bigfileset
+  }
+}
+
+define process name=filereader1,instances=1
+{
+  thread name=filereaderthread1,memsize=10m,instances=$nthreads,numa=1
+  {
+    flowop createfile name=createfile11,filesetname=bigfileset1,fd=1
+    flowop writewholefile name=wrtfile11,srcfd=1,fd=1,iosize=$iosize
+    flowop closefile name=closefile11,fd=1
+    flowop openfile name=openfile11,filesetname=bigfileset1,fd=1
+    flowop appendfilerand name=appendfilerand11,iosize=$meanappendsize,fd=1
+    flowop closefile name=closefile21,fd=1
+    flowop openfile name=openfile21,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile11,fd=1,iosize=$iosize
+    flowop closefile name=closefile31,fd=1
+    flowop deletefile name=deletefile11,filesetname=bigfileset1
+    flowop statfile name=statfile11,filesetname=bigfileset1
+  }
+}
+
+echo  "File-server Version 3.0 personality successfully loaded"
+
+run all $runtime
diff --git a/workloads/varmail.f b/workloads/varmail.f
index 674719f..0a47687 100644
--- a/workloads/varmail.f
+++ b/workloads/varmail.f
@@ -23,13 +23,14 @@
 # Use is subject to license terms.
 #
 
-set $dir=/tmp
-set $nfiles=1000
+set $dir=/mnt/pmem/phtof/daxdir
+set $nfiles=100000
 set $meandirwidth=1000000
 set $filesize=cvar(type=cvar-gamma,parameters=mean:16384;gamma:1.5)
 set $nthreads=16
 set $iosize=1m
-set $meanappendsize=16k
+# set $meanappendsize=16k
+set $meanappendsize=256k
 
 define fileset name=bigfileset,path=$dir,size=$filesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80
 
diff --git a/workloads/webserver_numa.f b/workloads/webserver_numa.f
new file mode 100644
index 0000000..6113a68
--- /dev/null
+++ b/workloads/webserver_numa.f
@@ -0,0 +1,118 @@
+#
+# CDDL HEADER START
+#
+# The contents of this file are subject to the terms of the
+# Common Development and Distribution License (the "License").
+# You may not use this file except in compliance with the License.
+#
+# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
+# or http://www.opensolaris.org/os/licensing.
+# See the License for the specific language governing permissions
+# and limitations under the License.
+#
+# When distributing Covered Code, include this CDDL HEADER in each
+# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
+# If applicable, add the following below this CDDL HEADER, with the
+# fields enclosed by brackets "[]" replaced with your own identifying
+# information: Portions Copyright [yyyy] [name of copyright owner]
+#
+# CDDL HEADER END
+#
+#
+# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
+# Use is subject to license terms.
+#
+
+set $dir=/mnt/pmem/phtof/daxdir
+set $nfiles=100000
+set $meandirwidth=20
+set $filesize=cvar(type=cvar-gamma,parameters=mean:131072;gamma:1.5)
+set $nthreads=50
+set $iosize=1m
+set $meanappendsize=16k
+
+define fileset name=bigfileset0,path=$dir,size=$filesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=100,readonly,numa=0
+
+define fileset name=bigfileset1,path=$dir,size=$filesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=100,readonly,numa=1
+
+define fileset name=logfiles,path=$dir,size=$filesize,entries=1,dirwidth=$meandirwidth,prealloc
+
+define process name=filereader0,instances=1
+{
+  thread name=filereaderthread0,memsize=10m,instances=$nthreads,numa=0
+  {
+    flowop openfile name=openfile1,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile1,fd=1,iosize=$iosize
+    flowop closefile name=closefile1,fd=1
+    flowop openfile name=openfile2,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile2,fd=1,iosize=$iosize
+    flowop closefile name=closefile2,fd=1
+    flowop openfile name=openfile3,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile3,fd=1,iosize=$iosize
+    flowop closefile name=closefile3,fd=1
+    flowop openfile name=openfile4,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile4,fd=1,iosize=$iosize
+    flowop closefile name=closefile4,fd=1
+    flowop openfile name=openfile5,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile5,fd=1,iosize=$iosize
+    flowop closefile name=closefile5,fd=1
+    flowop openfile name=openfile6,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile6,fd=1,iosize=$iosize
+    flowop closefile name=closefile6,fd=1
+    flowop openfile name=openfile7,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile7,fd=1,iosize=$iosize
+    flowop closefile name=closefile7,fd=1
+    flowop openfile name=openfile8,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile8,fd=1,iosize=$iosize
+    flowop closefile name=closefile8,fd=1
+    flowop openfile name=openfile9,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile9,fd=1,iosize=$iosize
+    flowop closefile name=closefile9,fd=1
+    flowop openfile name=openfile10,filesetname=bigfileset0,fd=1
+    flowop readwholefile name=readfile10,fd=1,iosize=$iosize
+    flowop closefile name=closefile10,fd=1
+    flowop appendfilerand name=appendlog,filesetname=logfiles,iosize=$meanappendsize,fd=2
+  }
+}
+
+define process name=filereader1,instances=1
+{
+  thread name=filereaderthread1,memsize=10m,instances=$nthreads,numa=1
+  {
+    flowop openfile name=openfile1_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile1_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile1_1,fd=1
+    flowop openfile name=openfile2_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile2_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile2_1,fd=1
+    flowop openfile name=openfile3_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile3_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile3_1,fd=1
+    flowop openfile name=openfile4_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile4_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile4_1,fd=1
+    flowop openfile name=openfile5_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile5_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile5_1,fd=1
+    flowop openfile name=openfile6_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile6_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile6_1,fd=1
+    flowop openfile name=openfile7_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile7_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile7_1,fd=1
+    flowop openfile name=openfile8_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile8_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile8_1,fd=1
+    flowop openfile name=openfile9_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile9_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile9_1,fd=1
+    flowop openfile name=openfile10_1,filesetname=bigfileset1,fd=1
+    flowop readwholefile name=readfile10_1,fd=1,iosize=$iosize
+    flowop closefile name=closefile10_1,fd=1
+    flowop appendfilerand name=appendlog,filesetname=logfiles,iosize=$meanappendsize,fd=2
+  }
+}
+
+echo  "Web-server Version 3.1 personality successfully loaded"
+
+run all 60
